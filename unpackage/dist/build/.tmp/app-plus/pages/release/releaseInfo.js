(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/release/releaseInfo"],{2537:function(e,t,s){"use strict";var o=s("cef8"),n=s.n(o);n.a},"6ee8":function(e,t,s){"use strict";s.r(t);var o=s("e887"),n=s("cf4a");for(var i in n)"default"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);s("2537");var a=s("2877"),l=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,null,null);t["default"]=l.exports},c121:function(e,t,s){"use strict";(function(e){s("6ea7"),s("921b");o(s("66fd"));var t=o(s("6ee8"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])},cef8:function(e,t,s){},cf4a:function(e,t,s){"use strict";s.r(t);var o=s("ddd6"),n=s.n(o);for(var i in o)"default"!==i&&function(e){s.d(t,e,function(){return o[e]})}(i);t["default"]=n.a},ddd6:function(e,t,s){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{array:[],codes:[],index:0,pTitle:"",pQQ:"",pWeChat:"",phone:"",pDetail:"",uPhone:e.getStorageSync("uPhone"),gotChoseImgs:[],showOhidden:!0}},onLoad:function(){this.getReleaseAllKinds(),this.baseUrl=this._Api.baseUrl,console.log(s(this.baseUrl," at pages\\release\\releaseInfo.vue:104"))},methods:{getReleaseAllKinds:function(){var t=this;this._Api.releaseAllKinds({type:2},function(o){if(console.log(s(o," at pages\\release\\releaseInfo.vue:112")),0===o.code){var n=o.data,i=[],a=[];n.forEach(function(e,t){0!==t&&(i[i.length]=e.name,a[a.length]=e.code)}),t.array=i,t.codes=a}else e.showToast({title:o.msg,icon:"none",duration:1500})})},posts:function(){var t=this;if(!this.pTitle)return this._tools.myShow("标题不能为空",!0),!1;if(!this.pQQ)return this._tools.myShow("QQ不能为空",!0),!1;if(!this.pWeChat)return this._tools.myShow("微信不能为空",!0),!1;if(!this.phone)return this._tools.myShow("手机号不能为空",!0),!1;if(this.phone!==this.uPhone)return this._tools.myShow("手机号与登录手机号不一致",!0),!1;if(!/^1[3456789]\d{9}$/.test(this.phone))return this._tools.myShow("手机号格式不正确",!0),!1;if(!this.pDetail)return this._tools.myShow("内容不能为空",!0),!1;var o=this.gotChoseImgs.join(",");this._Api.addPost({phone:this.phone,publishType:0,title:this.pTitle,qq:this.pQQ,weixin:this.pWeChat,exhibitionType:this.codes[this.index],details:this.pDetail,imgurl:o},function(o){console.log(s(o," at pages\\release\\releaseInfo.vue:169")),0===o.code?(t._tools.myShow("发布成功~",!0),setTimeout(function(){e.reLaunch({url:"/pages/release/release"})},1500)):t._tools.myShow(o.msg,!0)})},bindPickerChange:function(e){this.index=e.target.value},chosePostImgs:function(){var t=this;this.gotChoseImgs.length>=9?(this._tools.myShow("最多上传9张图片哦",!0),this.gotChoseImgs.length=9,this.showOhidden=!1,this.showOhidden=!0):e.chooseImage({success:function(e){e.tempFilePaths.forEach(function(e){t.unloadFiles(e)})}})},unloadFiles:function(t){var o=this;e.uploadFile({url:this.baseUrl+"/exhibitions/updateHeadImg",filePath:t,name:"file",formData:{},success:function(e){var t=JSON.parse(e.data);console.log(s(e," at pages\\release\\releaseInfo.vue:211")),0===t.code&&(o.gotChoseImgs[o.gotChoseImgs.length]=t.msg,o.showOhidden=!1,o.showOhidden=!0)}})}}};t.default=o}).call(this,s("6e42")["default"],s("0de9")["default"])},e887:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},n=[];s.d(t,"a",function(){return o}),s.d(t,"b",function(){return n})}},[["c121","common/runtime","common/vendor"]]]);